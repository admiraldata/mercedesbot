name: b_book_test_drive_car_confirmed_plan_ar
states:
    contact_email:
        component: meya.input_pattern
        properties:
            text: رائع! إلى أي بريد إلكتروني يمكننا إرسال تأكيد الحجز؟
            pattern: (^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$)
            output: test_drive_email
            scope: flow
            require_match: true
            error_message: عفوا، لم أفهم. للاستمرار، يرجى إدخال بريد إلكتروني سليم.
    test_drive_contact_num:
        component: meya.input_integer
        properties:
            text: شكراً لك. يرجى تزويدنا برقم الجوال الذي تفضله.‎
            output: test_drive_contact
            scope: flow
            require_match: true
            error_message: عفواً، الرقم الذي قمت بإدخاله غير صحيح، يرجو تزويدنا برقم
                صحيح لنتمكن من الاتصال بك.‎
    check_cont_small_exit:
        component: meya.conditional_equal
        properties:
            value1: '{{ flow.test_drive_contact }}'
            value2: exit
        transitions:
            equal: exit_bot
            notequal: check_cont_proper_exit
    check_cont_proper_exit:
        component: meya.conditional_equal
        properties:
            value1: '{{ flow.test_drive_contact }}'
            value2: Exit
        transitions:
            equal: exit_bot
            notequal: check_cont_caps_exit
    check_cont_caps_exit:
        component: meya.conditional_equal
        properties:
            value1: '{{ flow.test_drive_contact }}'
            value2: EXIT
        transitions:
            equal: exit_bot
            notequal: test_location
    test_location:
        flow: b_test_drive_location_ar
    exit_bot:
        flow: z_exit_flow_ar
